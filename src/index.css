@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here.
All colors MUST be HSL.
*/

@layer base {
    :root {
        --background: 215 25% 12%;
        --foreground: 210 20% 85%;

        --card: 215 25% 15%;
        --card-foreground: 210 20% 85%;

        --popover: 215 25% 15%;
        --popover-foreground: 210 20% 85%;

        --primary: 195 100% 45%;
        --primary-foreground: 215 25% 12%;

        --secondary: 215 20% 18%;
        --secondary-foreground: 210 20% 85%;

        --muted: 215 20% 20%;
        --muted-foreground: 210 15% 60%;

        --accent: 195 100% 45%;
        --accent-foreground: 215 25% 12%;

        --destructive: 0 72% 51%;
        --destructive-foreground: 210 20% 98%;

        --border: 215 20% 22%;
        --input: 215 20% 18%;
        --ring: 195 100% 45%;

        --radius: 0.5rem;

        --sidebar-background: 215 25% 10%;
        --sidebar-foreground: 210 20% 75%;
        --sidebar-primary: 215 25% 12%;
        --sidebar-primary-foreground: 210 20% 85%;
        --sidebar-accent: 215 20% 15%;
        --sidebar-accent-foreground: 210 20% 85%;
        --sidebar-border: 215 20% 18%;
        --sidebar-ring: 195 100% 45%;

        --chat-ai-bg: 215 25% 15%;
        --chat-user-bg: 215 20% 18%;
        --chat-metadata: 210 15% 50%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground font-mono;
    }

    /* Mobile safe area */
    .safe-bottom {
        padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
    }

    @media (min-width: 640px) {
        .safe-bottom {
            padding-bottom: max(0.75rem, env(safe-area-inset-bottom));
        }
    }

    /* Smooth scrolling */
    html {
        scroll-behavior: smooth;
    }

    /* Mobile touch improvements */
    @media (max-width: 1024px) {
        * {
            -webkit-tap-highlight-color: transparent;
        }

        button,
        a,
        [role="button"] {
            touch-action: manipulation;
        }
    }

    /* Prevent text selection on mobile for UI elements */
    .no-select {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    /* Better scrolling on mobile */
    .smooth-scroll {
        -webkit-overflow-scrolling: touch;
    }

    /* Active state for touch */
    .active-scale {
        transition: transform 0.1s ease;
    }

    .active-scale:active {
        transform: scale(0.98);
    }

    /* Mobile viewport height fix */
    @supports (-webkit-touch-callout: none) {
        .h-screen {
            height: -webkit-fill-available;
        }
    }

    /* Improved focus states for accessibility */
    button:focus-visible,
    a:focus-visible,
    input:focus-visible,
    textarea:focus-visible {
        outline: 2px solid hsl(var(--ring));
        outline-offset: 2px;
    }

    /* Hide scrollbar but keep functionality */
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* Better text rendering on mobile */
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    /* Prevent horizontal scroll */
    html,
    body {
        overflow-x: hidden;
        width: 100%;
    }

    /* Better word breaking */
    .overflow-wrap-anywhere {
        overflow-wrap: anywhere;
        word-break: break-word;
    }

    /* Ensure textarea doesn't overflow */
    textarea {
        max-width: 100%;
    }
}
